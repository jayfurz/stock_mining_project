_HiStOrY_V2_
quit()
import bokeh
quit()
import pandas as pd
ixic = pd.read_csv("^IXIC.csv")
ixic["Percent_Change"] = ( ixic["Close"] - ixic["Open"]) / ixic["Open"]
ixic["Total_Change"] = ixic["Close"] - ixic["Open"]
ixic.head()
len(ixic)
ixic_short = ixic[-15:]
ixic_short.head()
ixic_short.to_csv('ixic_short.csv', index=False)
%save my_session
import readline
readline.write_history_file('~/Desktop')
readline.write_history_file('~\134Desktop')
prompt_data = ixic_short.values
prompt_data.head
print prompt_data
print(prompt_data)
prompt_json = json.dumps(prompt_data)
import json
prompt_json = json.dumps(prompt_data)
prompt_json = json.dumps(prompt_data.tolist())
with open("current_ixic_data.json", "w") as f:
    f.write(prompt_json)
open.api_key = os.environ["OPENAI_API_KEY"]
import os
open.api_key = os.environ["OPENAI_API_KEY"]
openai.api_key = os.environ["OPENAI_API_KEY"]
import openai
openai.api_key = os.environ["OPENAI_API_KEY"]
print(prompt_json)
    model_id = os.environ["SECOND_TRAINED_MODEL"]
model_id = os.environ["SECOND_TRAINED_MODEL"]
response = openai.Completion.create(
    engine=model_id,
    prompt=prompt_json,
    max_tokens=800,
    n=1,
    stop=None,
    temperature=0.5,
)
response
response_text = response.choices[0].text.strip()
results.append({"prompt":prompt_json, "response": response_text})
results = []
results.append({"prompt":prompt_json, "response": response_text})
filename = "predictions/ixic_tues_apr_18_23.json"
json_data = json.dumps(results, indent = 4)
with open(filename, "w") as f:
    f.write(json_data)
with open(filename, "w") as f:
    f.write(json_data)
readline.write_history_file('predictions/interactive_apr_18_23_ixic')
